import{_ as c,f as h,c as I,b as k,k as u,l as m,r as F,o as x}from"./C-CnRt1-.js";import{r as _}from"./BsnG2o04.js";import{f as L}from"./COMkZ_HI.js";import{F as y}from"./jQ2Yt2tC.js";import"./B6AwB7wT.js";import"./DHo4l0ZX.js";import"./Dgw27TLR.js";import"./6YvAUdkK.js";import"./DV5L49Kp.js";import"./Bj0pkxMM.js";import"./l0sNRNKZ.js";/* empty css        */import"./QlK9m9KZ.js";import"./Bp3YSIOJ.js";import"./B0qXuZwe.js";import"./D0VbZ-8h.js";import"./CX7TpRRJ.js";import"./DB8_Zr74.js";import"./E5P-NQ8u.js";const C=h({components:{FeedItemListSEO:y},async asyncData(){let e,i,t=[],r=0,a=([e,i]=u(()=>_.queryFeedItemsByFeedID(!0,"0",30,0)),e=await e,i(),e);if(m.isResultOk(a)){t=a.data.list,r=a.data.total_count;let n=[],d=[];for(let o in t){t[o].readState=1,t[o].isReadLater=!1,t[o].feed=null,t[o].authorList=[],n.push(t[o].feed_item_id);let s=!1,f=t[o].feed_id;for(let l in d)if(d[l]==f){s=!0;break}s||d.push(t[o].feed_id)}if(d.length>0){let o=([e,i]=u(()=>_.queryFeedByIDs(!0,d)),e=await e,i(),e);if(m.isResultOk(o)){let s=o.data.list;for(let f in t)for(let l in s)s[l].feed_id==t[f].feed_id&&(t[f].feed=s[l])}}let p=([e,i]=u(()=>L.fetchAuthor(!0,n)),e=await e,i(),e);if(m.isResultOk(p)){let o=p.data;for(let s in o)for(let f in t)if(o[s].feed_item_id==t[f].feed_item_id){t[f].authorList.push(o[s]);break}}}return{feedItems:t,totalCount:r}},mounted(){},methods:{isFeedIdExist(e,i){let t=!1;for(let r in i)if(i[r]==e){t=!0;break}return t},async loadAuthorForFeedItem(e){let i=[];for(let r in e)e[r].authorList=[],this.isFeedIdExist(e[r].feed_item_id,i)||i.push(e[r].feed_item_id);let t=await feedItem.fetchAuthor(!1,i);if(m.isResultOk(t)){let r=t.data;for(let a in r)for(let n in e)if(r[a].feed_item_id==e[n].feed_item_id){e[n].authorList.push(r[a]);break}}}}},"$6AC5ozhTVg");function b(e,i,t,r,a,n){const d=F("FeedItemListSEO");return x(),I("div",null,[k(d,{pageNumber:1,totalCount:e.totalCount,feedItems:e.feedItems},null,8,["totalCount","feedItems"])])}const J=c(C,[["render",b]]);export{J as default};
