import{_ as h,f as b,c as k,b as F,j as L,k as p,l as u,r as x,o as N}from"./C-CnRt1-.js";import{r as I}from"./BsnG2o04.js";import{f as g}from"./COMkZ_HI.js";import{F as y}from"./jQ2Yt2tC.js";import"./B6AwB7wT.js";import"./DHo4l0ZX.js";import"./Dgw27TLR.js";import"./6YvAUdkK.js";import"./DV5L49Kp.js";import"./Bj0pkxMM.js";import"./l0sNRNKZ.js";/* empty css        */import"./QlK9m9KZ.js";import"./Bp3YSIOJ.js";import"./B0qXuZwe.js";import"./D0VbZ-8h.js";import"./CX7TpRRJ.js";import"./DB8_Zr74.js";import"./E5P-NQ8u.js";const C=b({components:{FeedItemListSEO:y},async asyncData(){let e,r;const d=L();let s=parseInt(d.params.pageNumber);s<1&&(s=1);let t=[],l=0,n=([e,r]=p(()=>I.queryFeedItemsByFeedID(!0,"0",30,(s-1)*30)),e=await e,r(),e);if(u.isResultOk(n)){t=n.data.list,l=n.data.total_count;let m=[],c=[];for(let o in t){t[o].readState=1,t[o].isReadLater=!1,t[o].feed=null,t[o].authorList=[],c.push(t[o].feed_item_id);let i=!1,a=t[o].feed_id;for(let f in m)if(m[f]==a){i=!0;break}i||m.push(t[o].feed_id)}if(m.length>0){let o=([e,r]=p(()=>I.queryFeedByIDs(!0,m)),e=await e,r(),e);if(u.isResultOk(o)){let i=o.data.list;for(let a in t)for(let f in i)i[f].feed_id==t[a].feed_id&&(t[a].feed=i[f])}}let _=([e,r]=p(()=>g.fetchAuthor(!0,c)),e=await e,r(),e);if(u.isResultOk(_)){let o=_.data;for(let i in o)for(let a in t)if(o[i].feed_item_id==t[a].feed_item_id){t[a].authorList.push(o[i]);break}}}return{feedItems:t,totalCount:l,pageNumber:s}},mounted(){},methods:{isFeedIdExist(e,r){let d=!1;for(let s in r)if(r[s]==e){d=!0;break}return d}}},"$pOevLq8Fpn");function O(e,r,d,s,t,l){const n=x("FeedItemListSEO");return N(),k("div",null,[F(n,{pageNumber:e.pageNumber,totalCount:e.totalCount,feedItems:e.feedItems},null,8,["pageNumber","totalCount","feedItems"])])}const Q=h(C,[["render",O]]);export{Q as default};
