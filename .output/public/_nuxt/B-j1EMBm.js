import{E as $}from"./BSOhkihc.js";import{a as w,r as z,s as N,b as x,d as B,m as E,l as T,p as M,f as P,c as H,E as O}from"./B_gWlXuQ.js";import{E as V}from"./BQSRTtAl.js";import"./nUV19QSN.js";import"./l0sNRNKZ.js";/* empty css        */import{_ as A,f as Q,i as g,m as y,r as k,o as n,c as h,a as t,b as o,F as U,n as j,d as L,t as i,l as _,w as a,k as m,p as q,e as G}from"./Bq77BlN_.js";import{E as C}from"./Dg4Uzw2U.js";import{r as J}from"./BSgBYroO.js";import{r as R}from"./o6r4Vgvw.js";import{P as K}from"./6E7GwA2a.js";import{e as W}from"./E5P-NQ8u.js";const X=Q({props:{totalCount:{type:Number,default:0},pageNumber:{type:Number,default:0},onlyShowReadLater:{type:Boolean,default:!1},readedMode:{type:Number,default:0},feedItems:{type:Array,default:[]}},components:{Check:w,Refresh:z,Select:N,Share:x,Reading:B,More:E,Link:T,Paperclip:M,FullScreen:P,CollectionTag:H,Pager:K},async asyncData(){return{}},mounted(){},methods:{notifyFeedItemChange(){this.$emit("feedItemCountChange",this.feedItems.length)},formatHumanTime(s){return g.getHumanTime(s)},showFeedItem(s){W.emit("on_popup_feeditem_content",{feed:s.feed,feedItem:s})},loadMore(){this.pageMode!=1},removeByFeedItemID(s){let d=0;for(;d<this.feedItems.length;)this.feedItems[d].feed_item_id===s?this.feedItems.splice(d,1):++d;this.notifyFeedItemChange()},async onSetFeedItemState(s,d){let p=parseInt(d),I=await J.setFeedItemReadState(y.getDeviceID(),s.feed_item_id,p);g.isResultOk(I)?this.readedMode==1?p==2&&this.removeByFeedItemID(s.feed_item_id):this.readedMode==2&&p==1&&this.removeByFeedItemID(s.feed_item_id):C.error('设置为"'+(p==1?"未读":"已读")+'"失败，请稍后再试。')},async setReadLater(s){let d=await R.setReadLater(y.getDeviceID(),s.feed_id,s.feed_item_id);g.isResultOk(d)?s.isReadLater=!0:C.error('设置“稍后阅读"失败，请稍后再试。')},async removeReadLater(s){let d=await R.removeReadLater(y.getDeviceID(),s.feed_item_id);g.isResultOk(d)?(this.onlyShowReadLater&&this.removeByFeedItemID(s.feed_item_id),s.isReadLater=!1):C.error('取消“稍后阅读"失败，请稍后再试。')},onShareArticle(){}}},"$BcdNQI5kMb"),c=s=>(q("data-v-3cf53973"),s=s(),G(),s),Y={style:{"max-width":"800px",margin:"0px auto"}},Z=c(()=>t("h2",{style:{"font-size":"34px","font-weight":"700","margin-top":"40px","margin-bottom":"10px"}},"所有文章",-1)),ee={key:0},te=["href"],se=["src"],oe={class:"feed_item_list_img_container"},ae=["src"],ne={class:"feed_item_list_content_container"},ie=["href"],_e={class:"feed_item_list_container_desc"},de={style:{display:"flex","margin-top":"5px"}},le={style:{height:"30px","line-height":"30px"}},re={class:"feed_item_list_container_time"},ce=c(()=>t("span",{class:"feed_item_list_container_time"}," · ",-1)),fe={class:"feed_item_list_container_time"},me=c(()=>t("div",{style:{flex:"1"}},null,-1)),he=["onClick"],pe=c(()=>t("span",null," ",-1)),ue=["onClick"],ve=["onClick"],ge=c(()=>t("span",null," ",-1)),ke=["onClick"],ye=["onClick"],Ce={key:1},Ie={class:"feed_item_list_container"},Se=["href"],Le=["src"],Re=["href"],be={class:"feed_item_list_container_desc"},Fe={style:{display:"flex","margin-top":"5px"}},De={style:{height:"30px","line-height":"30px"}},$e={class:"feed_item_list_container_time"},we=c(()=>t("span",{class:"feed_item_list_container_time"}," · ",-1)),ze={class:"feed_item_list_container_time"},Ne=c(()=>t("div",{style:{flex:"1"}},null,-1)),xe=["onClick"],Be=c(()=>t("span",null," ",-1)),Ee=["onClick"],Te=["onClick"],Me=c(()=>t("span",null," ",-1)),Pe=["onClick"],He=["onClick"],Oe=c(()=>t("div",{style:{height:"30px"}},null,-1));function Ve(s,d,p,I,Ae,Qe){const b=$,S=k("Reading"),l=O,r=V,u=k("Check"),v=k("CollectionTag"),F=k("Pager");return n(),h("div",null,[t("div",Y,[Z,o(b),(n(!0),h(U,null,j(s.feedItems,(e,D)=>(n(),h("div",{key:D,class:"feed_item_root_container"},[e.thumb_url.length>0?(n(),h("div",ee,[t("div",null,[t("div",null,[e.feed!=null?(n(),h("a",{key:0,target:"_blank",href:e.feed.url,class:"feed_name_img"},[t("img",{src:e.feed.icon_url},null,8,se),L(" "+i(e.feed.name)+i(e.authorList.length>0?" · "+e.authorList[0].author_name:""),1)],8,te)):_("",!0)]),t("div",oe,[t("img",{class:"feed_item_img",src:e.thumb_url},null,8,ae),t("div",ne,[t("a",{href:"/feed-item/"+e.feed_item_id+".html",target:"_blank",class:"feed_item_list_container_title"},i(e.title),9,ie),t("p",_e,i(e.desc),1),t("div",de,[t("div",le,[t("span",re,i(s.formatHumanTime(e.publish_time)),1),ce,t("span",fe,i(e.read_count)+"次阅读",1)]),me,o(r,{effect:"dark",content:"快速阅读此文章",placement:"top-start"},{default:a(()=>[t("div",{onClick:f=>s.showFeedItem(e),class:"svg_icon_container_mini"},[o(l,{size:20,color:"#757575"},{default:a(()=>[o(S)]),_:1})],8,he)]),_:2},1024),pe,e.readState==1?(n(),m(r,{key:0,effect:"dark",content:"标记为已读",placement:"top-start"},{default:a(()=>[t("div",{onClick:f=>s.onSetFeedItemState(e,2),class:"svg_icon_container_mini"},[o(l,{size:20,color:"#757575"},{default:a(()=>[o(u)]),_:1})],8,ue)]),_:2},1024)):_("",!0),e.readState!=1?(n(),m(r,{key:1,effect:"dark",content:"标记为未读",placement:"top-start"},{default:a(()=>[t("div",{onClick:f=>s.onSetFeedItemState(e,1),class:"svg_icon_container_mini"},[o(l,{size:20,color:"#757575"},{default:a(()=>[o(u)]),_:1})],8,ve)]),_:2},1024)):_("",!0),ge,e.isReadLater?_("",!0):(n(),m(r,{key:2,effect:"dark",content:"添加到稍后阅读",placement:"top-start"},{default:a(()=>[t("div",{onClick:f=>s.setReadLater(e),class:"svg_icon_container_mini"},[o(l,{size:20,color:"#757575"},{default:a(()=>[o(v)]),_:1})],8,ke)]),_:2},1024)),e.isReadLater?(n(),m(r,{key:3,effect:"dark",content:"取消稍后阅读",placement:"top-start"},{default:a(()=>[t("div",{onClick:f=>s.removeReadLater(e),class:"svg_icon_container_mini"},[o(l,{size:20,color:"#009a61"},{default:a(()=>[o(v)]),_:1})],8,ye)]),_:2},1024)):_("",!0)])])])])])):_("",!0),e.thumb_url.length==0?(n(),h("div",Ce,[t("div",Ie,[e.feed!=null?(n(),h("a",{key:0,target:"_blank",href:e.feed.url,class:"feed_name_img"},[t("img",{src:e.feed.icon_url},null,8,Le),L(" "+i(e.feed.name)+i(e.authorList.length>0?" · "+e.authorList[0].author_name:""),1)],8,Se)):_("",!0),t("a",{href:"/feed-item/"+e.feed_item_id+".html",target:"_blank",class:"feed_item_list_container_title"},i(e.title),9,Re),t("p",be,i(e.desc),1)]),t("div",Fe,[t("div",De,[t("span",$e,i(s.formatHumanTime(e.publish_time)),1),we,t("span",ze,i(e.read_count)+"次阅读",1)]),Ne,o(r,{effect:"dark",content:"快速阅读此文章",placement:"top-start"},{default:a(()=>[t("div",{onClick:f=>s.showFeedItem(e),class:"svg_icon_container_mini"},[o(l,{size:20,color:"#757575"},{default:a(()=>[o(S)]),_:1})],8,xe)]),_:2},1024),Be,e.readState==1?(n(),m(r,{key:0,effect:"dark",content:"标记为已读",placement:"top-start"},{default:a(()=>[t("div",{onClick:f=>s.onSetFeedItemState(e,2),class:"svg_icon_container_mini"},[o(l,{size:20,color:"#757575"},{default:a(()=>[o(u)]),_:1})],8,Ee)]),_:2},1024)):_("",!0),e.readState!=1?(n(),m(r,{key:1,effect:"dark",content:"标记为未读",placement:"top-start"},{default:a(()=>[t("div",{onClick:f=>s.onSetFeedItemState(e,1),class:"svg_icon_container_mini"},[o(l,{size:20,color:"#757575"},{default:a(()=>[o(u)]),_:1})],8,Te)]),_:2},1024)):_("",!0),Me,e.isReadLater?_("",!0):(n(),m(r,{key:2,effect:"dark",content:"添加到稍后阅读",placement:"top-start"},{default:a(()=>[t("div",{onClick:f=>s.setReadLater(e),class:"svg_icon_container_mini"},[o(l,{size:20,color:"#757575"},{default:a(()=>[o(v)]),_:1})],8,Pe)]),_:2},1024)),e.isReadLater?(n(),m(r,{key:3,effect:"dark",content:"取消稍后阅读",placement:"top-start"},{default:a(()=>[t("div",{onClick:f=>s.removeReadLater(e),class:"svg_icon_container_mini"},[o(l,{size:20,color:"#009a61"},{default:a(()=>[o(v)]),_:1})],8,He)]),_:2},1024)):_("",!0)])])):_("",!0)]))),128)),o(F,{baseURL:"/article/page",activeIndex:s.pageNumber,totalCount:s.totalCount},null,8,["activeIndex","totalCount"]),Oe])])}const st=A(X,[["render",Ve],["__scopeId","data-v-3cf53973"]]);export{st as F};
