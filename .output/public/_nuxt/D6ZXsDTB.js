import{r as x,E as R}from"./B_gWlXuQ.js";import"./nUV19QSN.js";import{_ as $,f as I,i as h,o as r,c,F as T,n as N,a as t,t as d,b as u,p as F,e as w,l as H,w as M,g as O,h as g,r as b}from"./Bq77BlN_.js";import{b as C}from"./BYO7iMVv.js";import{r as k}from"./BSgBYroO.js";import{E as S}from"./CKhxPeNO.js";/* empty css        */import"./kwRPCTkg.js";import"./BQSRTtAl.js";import{e as B}from"./E5P-NQ8u.js";import"./Dhnu2qvC.js";import"./BJGnmqG5.js";import"./Co8Oxmti.js";import"./DDKaLnTg.js";import"./DozTxQ4h.js";import"./CUYW8zDF.js";import"./5ADSgmN9.js";import"./Bp3YSIOJ.js";import"./HEVJa2N9.js";import"./Cq9Fpw4b.js";import"./CRLszMoI.js";import"./CbkLOmvQ.js";import"./TOG2uH60.js";import"./CVumo1Vz.js";const E=I({components:{},props:{feed:{type:Object,default:null},totalCount:{type:Number,default:0},feedItems:{type:Array,default:[]}},async asyncData(){return{}},methods:{appendFeedItems(e){},formatHumanTime(e){return h.getHumanTime(e)},showFeedItem(e){B.emit("on_popup_feeditem_content",{feedItem:e,feed:this.feed})}}},"$hgQKyT8xi7"),p=e=>(F("data-v-49d7c81c"),e=e(),w(),e),j=p(()=>t("div",{style:{height:"30px"}},null,-1)),L=["onClick"],q={class:"feed_item_list_container_title"},z={class:"feed_item_list_container_desc"},V={style:{display:"flex","margin-top":"5px"}},A={class:"feed_item_list_container_time"},K=p(()=>t("div",{style:{flex:"1"}},null,-1)),P=["onClick"],Q=p(()=>t("span",{style:{color:"#ccc"}},"  |  ",-1)),U=["href"],W=p(()=>t("span",{style:{color:"#ccc"}},"  |  ",-1)),G=["href"],J=p(()=>t("div",{style:{height:"30px"}},null,-1));function X(e,i,_,m,n,a){const l=S;return r(),c("div",null,[j,(r(!0),c(T,null,N(e.feedItems,(s,o)=>(r(),c("div",{key:o,style:{"margin-bottom":"35px"}},[t("a",{class:"feed_item_list_container",onClick:f=>e.showFeedItem(s)},[t("p",q,d(s.title),1),t("p",z,d(s.desc),1)],8,L),t("div",V,[t("span",A,d(e.formatHumanTime(s.publish_time)),1),K,t("a",{class:"article_link",style:{color:"#009a61"},onClick:f=>e.showFeedItem(s)},"查看内容",8,P),Q,t("a",{class:"article_link",href:"/feed-item/"+s.feed_item_id+".html"},"全屏阅读",8,U),W,t("a",{class:"article_link",href:s.feed_url},"原文链接",8,G)])]))),128)),u(l,{background:"",layout:"prev, pager, next",total:e.totalCount,style:{width:"100%"},"page-size":30},null,8,["total"]),J])}const Y=$(E,[["render",X],["__scopeId","data-v-49d7c81c"]]),Z=I({props:{feed:{type:Object,default:[]},feedItem:{type:Object,default:[]}},async asyncData(){return{isMobile:C.isMobile()}},methods:{formatTime(e){return h.getHumanTime(e/1e3)}}},"$8qCe8w8SW2"),ee={style:{margin:"15px",padding:"20px","background-color":"white","border-radius":"8px"}},te={key:0,class:"feed_item_container_feedname",style:{display:"flex"}},se=["src"],oe={class:"feed_item_container_title"},ne={class:"feed_item_container_time"},ie={style:{padding:"10px"}},de=["innerHTML"];function ae(e,i,_,m,n,a){return r(),c("div",ee,[t("div",null,[e.feed!=null?(r(),c("div",te,[t("img",{src:e.feed.icon_url},null,8,se),t("span",null,d(e.feed.name),1)])):H("",!0),t("p",oe,d(e.feedItem.title),1),t("p",ne,d(e.formatTime(e.feedItem.publish_time)),1)]),t("div",ie,[t("div",{innerHTML:e.feedItem.desc},null,8,de)])])}const le=$(Z,[["render",ae],["__scopeId","data-v-68bfcaff"]]),re=I({components:{FeedDetail:Y,FeedItemDesc:le,Refresh:x},async asyncData(){let e,i;const _=O();let m=_.params.feed_id;_.params.feed_item_id;let n=null,a=([e,i]=g(()=>k.queryFeedByIDs(!0,[m])),e=await e,i(),e);h.isResultOk(a)&&a.data.list.length==1&&(n=a.data.list[0]);let l="",s="";n!=null&&(s=n.icon_url,l=n.name);let o=[],f=([e,i]=g(()=>k.queryFeedItemsByFeedID(!0,m,30,0)),e=await e,i(),e);h.isResultOk(f)&&(o=f.data.list);for(var v in o)o[v].feed_icon=s,o[v].feed_name=l;let D=o[0];return{feed:n,feedItems:o,currentFeedItem:D,isMobile:C.isMobile()}},mounted(){},methods:{}},"$R5geNhpl1D"),y=e=>(F("data-v-ed1e8957"),e=e(),w(),e),ce={class:"feed_item_conatiner"},_e=y(()=>t("div",{style:{height:"30px"}},null,-1)),me={style:{display:"flex"}},pe={class:"feed_name"},fe=y(()=>t("div",{class:"feed_info_desc"},[t("span",null,"3位订阅用户"),t("span",null,"  ｜  "),t("span",null,"30篇文章")],-1)),ue=y(()=>t("div",{style:{flex:"1"}},null,-1)),he={style:{"margin-top":"15px"}},ye={class:"svg_icon_container"},$e=y(()=>t("div",{style:{height:"20px"}},null,-1));function Ie(e,i,_,m,n,a){const l=b("Refresh"),s=R,o=b("FeedDetail");return r(),c("div",ce,[_e,t("div",me,[t("div",null,[t("h2",pe,d(e.feed.name),1),fe]),ue,t("div",he,[t("a",ye,[u(s,{size:30},{default:M(()=>[u(l)]),_:1})])])]),$e,u(o,{ref:"feedItemsComp",feed:e.feed,feedItems:e.feedItems,totalCount:0},null,8,["feed","feedItems"])])}const Ke=$(re,[["render",Ie],["__scopeId","data-v-ed1e8957"]]);export{Ke as default};
